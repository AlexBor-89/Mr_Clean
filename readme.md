# ОПИСАНИЕ

**Mr. Clean** — это автоматизированная программа для очистки файлов и папок на компьютере.
Она позволяет удалять старые или ненужные файлы, высвобождая место на диске и поддерживая порядок в системе.
Программа работает как фоновое приложение с иконкой в системном трее и может быть легко настроена через конфигурационные файлы.


## Формат файла config.ini
Файл config.cfg содержит настройки программы и определяет её поведение. Ниже приведено описание каждой секции и параметров:

[SETTINGS]<br>
Эта секция содержит основные настройки программы.

**cycle-time-limit-sec**
Максимальное время (в секундах), которое программа может тратить на обработку одного каталога или подкаталога.
Если время превышено, обработка текущего каталога прекращается, и программа переходит к следующему.
По умолчанию: `cycle-time-limit-sec = 180`

[LOG]<br>
Эта секция содержит настройки логирования.

**logging**
Включение или отключение логирования. Установите значение True, чтобы включить логирование, или False, чтобы отключить.
По умолчанию: `logging = True`

**log-level**
Уровень детализации логов. Доступные значения:
**DEBUG**: Все сообщения, включая отладочные.
**INFO**: Информационные сообщения и выше.
**WARNING**: Предупреждения и ошибки.
**ERROR**: Только ошибки.
**CRITICAL**: Критические ошибки.
По умолчанию: `log-level = INFO`

**log-days-limit**
Максимальный возраст лог-файлов (в днях). Все логи старше указанного количества дней будут автоматически удалены.
По умолчанию: `log-days-limit = 7`



## Формат файла values.ini
Файл `values.ini` содержит одну или несколько секций, каждая из которых имеет следующий формат:
```
[Name_1]
Path = "Путь к очищаемой папке"
Method = число от 0 до 3
Days = число больше 0

[Name_2]
Path = "Путь к очищаемой папке"
Method = число от 0 до 3
Days = число больше 0
```

где:
- **Name** - это произвольное имя секции, которое идентифицирует очищаемую папку.
- **Path** - это путь к очищаемой папке, который может содержать переменные среды, например %%TEMP%%, %%UserProfile%% и т. д.
  - Путь должен быть заключён в кавычки, а переменные среды в двойные символы процента.
- **Method** - это метод удаления, который определяет, какие папки и файлы будут удалены. Возможные значения:
  - 0 - удаляет файлы и папки с вложенными файлами.
  - 1 - удаляет только папки с вложенными файлами.
  - 2 - удаляет только файлы по указанному пути.
  - 3 - удаляет только файлы в подпапках, но не сами подпапки.
- **Days** - это количество дней, за которые нужно оставить папки и файлы и не удалять их. Должно быть положительным целым числом.


## Пример использования
Допустим, вы хотите очистить папку Загрузки в вашем профиле пользователя от папок и файлов, которые не использовались более 7 дней.
Тогда вы можете создать файл `values.ini` со следующим содержанием:
```
[Downloads]
Path = "%%UserProfile%%\Downloads\"
Method = 0
Days = 7
```

Затем вы можете просто запустить программу Mr. Clean.exe.
Программа просканирует папку Загрузки и удалит все папки и файлы, дата последнего доступа к которым была более 7 дней назад.


## Журналирование
В программе Mr. Clean реализованы различные уровни Журналирования (логирования), которые помогают организовать запись логов с разной степенью детализации.

1. **DEBUG**:<br>
Самый подробный уровень.
  - Используется для отладки и трассировки.
  - Записывает все сообщения, включая детали выполнения программы.
2. **INFO**:<br>
Информационный уровень.
  - Используется для общей информации о ходе выполнения программы.
  - Записывает важные события, но не перегружает лог файл.
3. **WARNING**:<br>
Уровень предупреждения.
  - Используется для сообщений о потенциальных проблемах.
  - Записывает предупреждения, которые не являются критическими.
4. **ERROR**:<br>
Уровень ошибок.
  - Используется для сообщений об ошибках, которые не позволяют программе продолжить выполнение.
  - Записывает критические ошибки.
5. **CRITICAL**:<br>
Самый высокий уровень.
  - Используется для критических ошибок, которые могут привести к аварийному завершению программы.
  - Записывает только самые серьёзные события.


# ИСТОРИЯ ВЕРСИЙ

## Версия программы: 1.1
Дата выпуска программы: 14.02.2025

- Данные из файла `config.cfg` перенесены в файл `values.ini`
- В новом файле `config.cfg`:
 - Добавлена иконка в трей с кнопкой [Выход], которая принудительно завершает выполнение программы.
 - Добавлено логирование выполнения программы и настройка хранения файлов журналов (в днях).
 - Добавлен лимит на цикл очистки в секундах.

## Версия программы: 1.0
Дата выпуска программы: 01.02.2024

- Первая версия программы